<?xml version='1.0'?>

<!--
  java.xml
  Java language binding for Web IDL

  This is written in XHTML 1.0 Strict with an inline <options> element that
  helps the WebIDL.xsl stylesheet process the document (generating a table
  of contents, section numbers, certain processing instructions).
  -->

<?xml-stylesheet href='WebIDL.xsl' type='text/xsl'?>

<html xmlns='http://www.w3.org/1999/xhtml' xmlns:x='http://mcc.id.au/ns/local' xml:lang='en'>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=UTF-8'/>
    <title>Java language binding for Web IDL</title>
    <meta name='revision' content='$Id: java.xml,v 1.5 2011-12-22 05:48:38 cmccorma Exp $'/>
    <link rel='stylesheet' href='WebIDL.css' type='text/css'/>
    <script src='section-links.js' type='application/ecmascript'/>
    <script src='dfn.js' type='application/ecmascript'/>

    <options xmlns='http://mcc.id.au/ns/local'>
      <versions>
        <cvs href='http://dev.w3.org/2006/webapi/WebIDL/java.html'/>
        <!--
        <this href='http://www.w3.org/TR/2011/WD-WebIDL-Java-2011xxxx/'/>
        -->
        <!--
        <latest href='http://www.w3.org/TR/WebIDL-Java/'/>
        -->
        <!--
        <previous href='http://www.w3.org/TR/2011/WD-WebIDL-Java-2011xxxx/'/>
        -->
      </versions>
      <editors>
        <person homepage='http://mcc.id.au/' email='cam@mcc.id.au'>
          <name>Cameron McCormack</name>
          <affiliation>Mozilla Corporation</affiliation>
        </person>
      </editors>
      <maturity>ED</maturity>
    </options>
  </head>

  <body>
    <?top?>

    <div class='section'>
      <h2>Abstract</h2>
      <p>
        This document defines the Java language binding for Web IDL,
        the interface definition language for the Web platform.
      </p>
    </div>

    <div class='section'>
      <h2>Status of This Document</h2>
      <?sotd-top public-script-coord@w3.org http://lists.w3.org/Archives/Public/public-script-coord/?>
      <p>...</p>
      <p>
        This document is produced by the
        <a href='http://www.w3.org/2008/webapps/'>Web Applications Working Group</a>, part of the
        <a href='http://www.w3.org/2006/rwc/Activity'>Rich Web Clients Activity</a>
        in the W3C <a href='http://www.w3.org/Interaction/'>Interaction Domain</a>.
        Changes made to this document can be found in the
        <a href='http://dev.w3.org/cvsweb/2006/webapi/WebIDL/Overview.xml'>W3C
          public CVS server</a>.
      </p>
      <p>
        In addition to the issues marked by editorial notes in this document,
        the <a href='http://www.w3.org/Bugs/Public/buglist.cgi?query_format=advanced&amp;short_desc_type=allwordssubstr&amp;short_desc=&amp;product=WebAppsWG&amp;component=WebIDL&amp;longdesc_type=allwordssubstr&amp;longdesc=&amp;bug_file_loc_type=allwordssubstr&amp;bug_file_loc=&amp;status_whiteboard_type=allwordssubstr&amp;status_whiteboard=&amp;keywords_type=allwords&amp;keywords=&amp;bug_status=UNCONFIRMED&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;emailtype1=substring&amp;email1=&amp;emailtype2=substring&amp;email2=&amp;bug_id_type=anyexact&amp;bug_id=&amp;votes=&amp;chfieldfrom=&amp;chfieldto=Now&amp;chfieldvalue=&amp;cmdtype=doit&amp;order=Reuse+same+sort+as+last+time&amp;field0-0-0=noop&amp;type0-0-0=noop&amp;value0-0-0='>Web IDL component in the W3C Bugzilla instance</a>
        can be used file and track bugs.
      </p>
      <?sotd-bottom http://www.w3.org/2004/01/pp-impl/42538/status?>
    </div>

    <div id='toc'>
      <h2>Table of Contents</h2>
      <?toc sections appendices?>
    </div>

    <div id='sections'>
      <div id='introduction' class='section'>
        <h2>Introduction</h2>

        <p class='norm'>This section is informative.</p>

        <p>...</p>

        <div id='conventions' class='section'>
          <h3>Typographic conventions</h3>
          <p>
            The following typographic conventions are used in this document:
          </p>
          <ul>
            <li>Defining instances of terms: <dfn id='dfn-example-term'>example term</dfn></li>
            <li>Links to terms defined in this document: <a class='dfnref' href='#dfn-example-term'>example term</a></li>
            <li>Links to terms defined in other documents: <a class='dfnref external' href='#dfn-example-term'>example term</a></li>
            <li>IDL and Java types: <span class='idltype'>ExampleType</span></li>
            <li>Code snippets: <code>a = b + obj.f()</code></li>
            <li>Unicode characters: <span class='char'>U+0030 DIGIT ZERO ("0")</span></li>
            <li>Extended attributes: <span class='xattr'>[ExampleExtendedAttribute]</span></li>
            <li>Variable names in prose and algorithms: <var>exampleVariableName</var>.</li>
            <li>Non-normative notes: <div class='note'><p>This is a note.</p></div></li>
            <li>Non-normative examples: <div class='example'><p>This is an example.</p></div></li>
            <!--
            <li>Normative warnings: <div class='warning'><p>This is a warning.</p></div></li>
            -->
            <li>Code blocks: <x:codeblock language='idl'><span class='comment'>// This is an IDL code block.</span>
interface Example {
  attribute long something;
};</x:codeblock>
<x:codeblock language='java'><span class='comment'>// This is a Java code block.</span>
Document doc = element.getOwnerDocument();</x:codeblock></li>
          </ul>
        </div>

      </div>

      <div id='conformance' class='section'>
        <h2>Conformance</h2>

        <p>
          Everything in this specification is normative except for diagrams,
          examples, notes and sections marked as being informative.
        </p>
        <p>
          The keywords “<span class='rfc2119'>MUST</span>”,
          “<span class='rfc2119'>MUST NOT</span>”,
          “<span class='rfc2119'>REQUIRED</span>”,
          “<span class='rfc2119'>SHALL</span>”,
          “<span class='rfc2119'>SHALL NOT</span>”,
          “<span class='rfc2119'>SHOULD</span>”,
          “<span class='rfc2119'>SHOULD NOT</span>”,
          “<span class='rfc2119'>RECOMMENDED</span>”,
          “<span class='rfc2119'>MAY</span>” and
          “<span class='rfc2119'>OPTIONAL</span>” in this document are to be
          interpreted as described in
          <cite><a href='http://tools.ietf.org/html/rfc2119'>Key words for use in RFCs to
              Indicate Requirement Levels</a></cite>
          <a href='#ref-RFC2119'>[RFC2119]</a>.
        </p>
        <p>
          The following conformance class is defined by this specification:
        </p>
        <dl>
          <dt><dfn id='dfn-conforming-java-implementation'>conforming Java implementation</dfn></dt>
          <dd>
            <p>
              A user agent is considered to be a
              <a class='dfnref' href='#dfn-conforming-java-implementation'>conforming Java implementation</a>
              relative to a <a class='dfnref' href='#dfn-conforming-idl-fragment'>conforming
                IDL fragment</a> if it satisfies all of the <span class='rfc2119'>MUST</span>-,
              <span class='rfc2119'>REQUIRED</span>- and <span class='rfc2119'>SHALL</span>-level
              criteria in this specification that apply to implementations for the Java
              language binding.
            </p>
          </dd>
        </dl>
      </div>

      <div id='java-binding' class='section'>
        <h2>Java binding</h2>

        <p>
          This section describes how definitions written with Web IDL <a href='#ref-WEBIDL'>[WEBIDL]</a>
          correspond to particular constructs in Java 5 <a href='#ref-JLS3'>[JLS3]</a>.
        </p>

        <div id='java-names' class='section'>
          <h3>Names</h3>

          <p>
            Since Java has a number of reserved words in the language, some identifiers
            of Java constructs corresponding to IDL definitions need to be escaped
            to avoid conflicts.  A name is <dfn id='dfn-java-escaped'>Java escaped</dfn>
            as follows:
          </p>
          <ul>
            <li>
              If the name is a Java reserved word, then the Java escaped name is the
              name prefixed with a <span class='char'>U+005F LOW LINE ("_")</span>
              character.
            </li>
            <li>
              Otherwise, the name is not a Java reserved word.  The Java escaped name
              is simply the name.
            </li>
          </ul>

          <div class='note'>
            <p>
              At the time of publication, the list of Java reserved words is the following:
              <code>abstract</code>,
              <code>assert</code>,
              <code>boolean</code>,
              <code>break</code>,
              <code>byte</code>,
              <code>case</code>,
              <code>catch</code>,
              <code>char</code>,
              <code>class</code>,
              <code>const</code>,
              <code>continue</code>,
              <code>default</code>,
              <code>do</code>,
              <code>double</code>,
              <code>else</code>,
              <code>enum</code>,
              <code>extends</code>,
              <code>final</code>,
              <code>finally</code>,
              <code>float</code>,
              <code>for</code>,
              <code>goto</code>,
              <code>if</code>,
              <code>implements</code>,
              <code>import</code>,
              <code>instanceof</code>,
              <code>int</code>,
              <code>interface</code>,
              <code>long</code>,
              <code>native</code>,
              <code>new</code>,
              <code>package</code>,
              <code>private</code>,
              <code>protected</code>,
              <code>public</code>,
              <code>return</code>,
              <code>short</code>,
              <code>static</code>,
              <code>strictfp</code>,
              <code>super</code>,
              <code>switch</code>,
              <code>synchronized</code>,
              <code>this</code>,
              <code>throw</code>,
              <code>throws</code>,
              <code>transient</code>,
              <code>try</code>,
              <code>void</code>,
              <code>volatile</code>,
              <code>while</code>.
            </p>
          </div>
        </div>

        <div id='java-type-mapping' class='section'>
          <h3>Java type mapping</h3>

          <p>
            This section describes how types in the IDL map to types
            in Java.
          </p>
          <p>
            Each sub-section below describes how values of a given IDL type
            are represented in Java.  For each IDL type, it is described how
            Java values are <dfn id='dfn-convert-java-to-idl-value'>converted to an IDL value</dfn>
            when passed as an argument to a Java method (corresponding
            to an <a class='dfnref' href='#dfn-operation'>operation</a> or
            <a class='dfnref' href='#dfn-attribute'>attribute</a>).  Conversely,
            it is described how IDL values of that type are
            <dfn id='dfn-convert-idl-to-java-value'>converted to Java values</dfn>
            when being used as the value of a Java final variable (corresponding
            to a <a class='dfnref' href='#dfn-constant'>constant</a>) or when
            returned from a Java method (corresponding to an operation,
            attribute or <a class='dfnref' href='#dfn-exception-field'>exception field</a>).
          </p>

          <div id='java-any' class='section'>
            <h4>any</h4>
            <p>
              The <a class='idltype' href='#idl-any'>any</a> IDL type corresponds to a
              Java <span class='javatype'>java.lang.Object</span> value.
            </p>
            <p>
              How to <a class='dfnref' href='#dfn-convert-java-to-idl-value'>convert a Java value</a>
              to an IDL <span class='idltype'>any</span> value depends on the
              type of the Java value:
            </p>
            <dl class='switch'>
              <dt>A <span class='javatype'>java.lang.Boolean</span> object</dt>
              <dd>
                The IDL value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the result of calling the <code>booleanValue()</code> method on the
                <span class='javatype'>java.lang.Boolean</span> object to an IDL
                <span class='idltype'>boolean</span> value.
              </dd>
              <dt>A <span class='javatype'>java.lang.Byte</span> object</dt>
              <dd>
                The IDL value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the result of calling the <code>byteValue()</code> method on the
                <span class='javatype'>java.lang.Byte</span> object to an IDL
                <span class='idltype'>byte</span> value.
              </dd>
              <dt>A <span class='javatype'>java.lang.Short</span> object</dt>
              <dd>
                The IDL value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the result of calling the <code>shortValue()</code> method on the
                <span class='javatype'>java.lang.Short</span> object to an IDL
                <span class='idltype'>short</span> value.
              </dd>
              <dt>A <span class='javatype'>java.lang.Integer</span> object</dt>
              <dd>
                The IDL value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the result of calling the <code>intValue()</code> method on the
                <span class='javatype'>java.lang.Integer</span> object to an IDL
                <span class='idltype'>long</span> value.
              </dd>
              <dt>A <span class='javatype'>java.lang.Long</span> object</dt>
              <dd>
                The IDL value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the result of calling the <code>longValue()</code> method on the
                <span class='javatype'>java.lang.Long</span> object to an IDL
                <span class='idltype'>long long</span> value.
              </dd>
              <dt>A <span class='javatype'>java.lang.Float</span> object</dt>
              <dd>
                The IDL value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the result of calling the <code>floatValue()</code> method on the
                <span class='javatype'>java.lang.Float</span> object to an IDL
                <span class='idltype'>float</span> value.
              </dd>
              <dt>A <span class='javatype'>java.lang.Double</span> object</dt>
              <dd>
                The IDL value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the result of calling the <code>doubleValue()</code> method on the
                <span class='javatype'>java.lang.Double</span> object to an IDL
                <span class='idltype'>float</span> value.
              </dd>
              <dt>A <span class='javatype'>java.lang.String</span> object</dt>
              <dd>
                The IDL value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the <span class='javatype'>java.lang.String</span> object to an IDL
                <span class='idltype'>DOMString</span> value.
              </dd>
              <dt>An array object</dt>
              <dd>
                The IDL value is the <a href='#idl-sequence'>IDL sequence</a> obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the Java array object to a sequence, as described in
                <a href='#java-sequence'>section <?sref java-sequence?></a> <?sdir java-sequence?>.
              </dd>
              <dt>An object that implements a <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a></dt>
              <dd>
                The IDL value is the <a href='#idl-array'>IDL array</a> obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the Java object to an array, as described in
                <a href='#java-array'>section <?sref java-array?></a> <?sdir java-array?>.
              </dd>
              <dt>An object of any other class</dt>
              <dd>
                The IDL value is an <span class='idltype'>object</span> value
                that references the same object.
              </dd>
              <dt><span class='javavalue'>null</span></dt>
              <dd>
                The IDL value is the <span class='idlvalue'>null</span>
                <span class='idltype'>object?</span> value.
              </dd>
            </dl>
            <p>
              How to <a class='dfnref' href='#dfn-convert-idl-to-java-value'>convert</a>
              an IDL <span class='idltype'>any</span> value to a Java
              <span class='javatype'>java.lang.Object</span> value depends on the
              <a class='dfnref' href='#dfn-specific-type'>specific type</a> of the IDL value:
            </p>
            <dl class='switch'>
              <dt>A value of a <a class='dfnref' href='#dfn-primitive-type'>primitive type</a></dt>
              <dd>
                <p>
                  The Java value is the result of 
                  <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                  the IDL value of the given type to a Java value, and then passing
                  that value to the static method according to the following table:
                </p>
                <table class='vert'>
                  <tr>
                    <th>IDL type</th>
                    <th>Method</th>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-boolean'>boolean</a></td>
                    <td><code>java.lang.Boolean.valueOf(boolean)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-byte'>byte</a></td>
                    <td><code>java.lang.Byte.valueOf(byte)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-octet'>octet</a></td>
                    <td><code>java.lang.Byte.valueOf(byte)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-short'>short</a></td>
                    <td><code>java.lang.Short.valueOf(short)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-unsigned-short'>unsigned short</a></td>
                    <td><code>java.lang.Short.valueOf(short)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-long'>long</a></td>
                    <td><code>java.lang.Integer.valueOf(int)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-unsigned-long'>unsigned long</a></td>
                    <td><code>java.lang.Integer.valueOf(int)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-long-long'>long long</a></td>
                    <td><code>java.lang.Long.valueOf(long)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a></td>
                    <td><code>java.lang.Long.valueOf(long)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-float'>float</a></td>
                    <td><code>java.lang.Float.valueOf(float)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-double'>double</a></td>
                    <td><code>java.lang.Double.valueOf(double)</code></td>
                  </tr>
                </table>
              </dd>
              <dt>An IDL value of any other type</dt>
              <dd>
                To obtain a Java value, the rules for converting the <a class='dfnref' href='#dfn-specific-type'>specific type</a>
                of the IDL <a class='idltype' href='#idl-any'>any</a> value as described
                in the remainder of this section are performed.
              </dd>
            </dl>
          </div>

          <div id='java-void' class='section'>
            <h4>void</h4>

            <p>
              The only place that the <a class='idltype' href='#idl-void'>void</a> type may appear
              in IDL is as the <a class='dfnref' href='#dfn-return-type'>return type</a>
              of an <a class='dfnref' href='#dfn-operation'>operation</a>.  Methods on Java objects
              that implement an operation whose IDL specifies a <a class='idltype' href='#idl-void'>void</a>
              return type <span class='rfc2119'>MUST</span> be declared to have a return type of <span class='javatype'>void</span>.
            </p>
          </div>

          <div id='java-boolean' class='section'>
            <h4>boolean</h4>

            <p>
              IDL <a class='idltype' href='#idl-boolean'>boolean</a> values are represented by
              Java <span class='javatype'>boolean</span> values.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
              a Java <span class='javatype'>boolean</span> value to an IDL value
              is the IDL <span class='idltype'>boolean</span>
              that represents the same truth value as the Java
              <span class='javatype'>boolean</span>.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <span class='idltype'>boolean</span> value to a Java
              value is the Java <span class='javatype'>boolean</span> that
              represents the same truth value as the IDL
              <span class='idltype'>boolean</span>.
            </p>
          </div>

          <div id='java-byte' class='section'>
            <h4>byte</h4>

            <p>
              IDL <a class='idltype' href='#idl-byte'>byte</a> values are
              represented by Java <span class='javatype'>byte</span> values.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
              a Java <span class='javatype'>byte</span> value to an IDL value
              is the IDL <span class='idltype'>byte</span>
              that represents the same numeric value as the Java
              <span class='javatype'>byte</span>.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <span class='idltype'>byte</span> value to a Java
              value is the Java <span class='javatype'>byte</span> that
              represents the same numeric value as the IDL
              <span class='idltype'>byte</span>.
            </p>
          </div>

          <div id='java-octet' class='section'>
            <h4>octet</h4>

            <p>
              IDL <a class='idltype' href='#idl-octet'>octet</a> values are represented by
              Java <span class='javatype'>byte</span> values.  Note that while
              the IDL <a class='idltype' href='#idl-octet'>octet</a> type is unsigned, with a
              range of [0, 255], the Java <span class='javatype'>byte</span> type
              is signed, with a range of [−128, 127].
            </p>
            <p>
              <a class='dfnref' href='#dfn-convert-idl-to-java-value'>Conversion</a>
              of an <a class='idltype' href='#idl-octet'>octet</a> value to a
              <span class='javatype'>byte</span> is performed as follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>x</var> be the <a class='idltype' href='#idl-octet'>octet</a> value to convert.</li>
              <li>If <var>x</var> &lt; 128, return the <span class='javatype'>byte</span> whose value is <var>x</var>.</li>
              <li>Otherwise <var>x</var> ≥ 128.  Return the <span class='javatype'>byte</span> whose value is <var>x</var> − 256.</li>
            </ol>
            <div class='note'>
              <p>
                In Java this is the same as having the
                <a class='idltype' href='#idl-octet'>octet</a> value stored in
                an <span class='javatype'>int</span> and casting it to a
                <span class='javatype'>byte</span>.
              </p>
            </div>
            <p>
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>Conversion</a>
              of a <span class='javatype'>byte</span> to an
              <a class='idltype' href='#idl-octet'>octet</a> is performed as
              follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>x</var> be the <span class='javatype'>byte</span> value to decode.</li>
              <li>If <var>x</var> ≥ 0, return the <a class='idltype' href='#idl-octet'>octet</a> whose value is <var>x</var>.</li>
              <li>Otherwise <var>x</var> &lt; 0.  Return the <a class='idltype' href='#idl-octet'>octet</a> whose value is <var>x</var> + 256.</li>
            </ol>
            <div class='note'>
              <p>
                In Java this is the same as performing a bit-wise AND of the
                <span class='javatype'>byte</span> value with the
                <span class='javatype'>int</span> constant
                <span class='javavalue'>0xff</span>.
              </p>
            </div>
          </div>

          <div id='java-short' class='section'>
            <h4>short</h4>

            <p>
              IDL <a class='idltype' href='#idl-short'>short</a> values are
              represented by Java <span class='javatype'>short</span> values.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
              a Java <span class='javatype'>short</span> value to an IDL value
              is the IDL <span class='idltype'>short</span>
              that represents the same numeric value as the Java
              <span class='javatype'>short</span>.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <span class='idltype'>short</span> value to a Java
              value is the Java <span class='javatype'>short</span> that
              represents the same numeric value as the IDL
              <span class='idltype'>short</span>.
            </p>
          </div>

          <div id='java-unsigned-short' class='section'>
            <h4>unsigned short</h4>

            <p>
              IDL <a class='idltype' href='#idl-unsigned-short'>unsigned short</a> values are
              represented by Java <span class='javatype'>short</span> values.  Note that while
              the IDL <a class='idltype' href='#idl-unsigned-short'>unsigned short</a> type is unsigned, with a
              range of [0, 65535], the Java <span class='javatype'>short</span> type
              is signed, with a range of [−32768, 32767].
            </p>
            <p>
              <a class='dfnref' href='#dfn-convert-idl-to-java-value'>Conversion</a>
              of an IDL <a class='idltype' href='#idl-unsigned-short'>unsigned short</a> value to a
              Java <span class='javatype'>short</span> is performed as follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>x</var> be the IDL <a class='idltype' href='#idl-unsigned-short'>unsigned short</a> value to convert.</li>
              <li>If <var>x</var> &lt; 32768, return the Java <span class='javatype'>short</span> whose value is <var>x</var>.</li>
              <li>Otherwise <var>x</var> ≥ 32768.  Return the Java <span class='javatype'>short</span> whose value is <var>x</var> − 65536.</li>
            </ol>
            <div class='note'>
              <p>
                In Java this is the same as having the <a class='idltype' href='#idl-unsigned-short'>unsigned short</a> value stored in
                an <span class='javatype'>int</span> and casting it to a <span class='javatype'>short</span>.
              </p>
            </div>
            <p>
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>Conversion</a>
              of a Java <span class='javatype'>short</span> to an IDL
              <a class='idltype' href='#idl-unsigned-short'>unsigned short</a> value
              is performed as follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>x</var> be the Java <span class='javatype'>short</span> value to decode.</li>
              <li>If <var>x</var> ≥ 0, return the IDL <a class='idltype' href='#idl-unsigned-short'>unsigned short</a> whose value is <var>x</var>.</li>
              <li>Otherwise <var>x</var> &lt; 0.  Return the IDL <a class='idltype' href='#idl-unsigned-short'>unsigned short</a> whose value is <var>x</var> + 65536.</li>
            </ol>
            <div class='note'>
              <p>
                In Java this is the same as performing a bit-wise AND of the <span class='javatype'>short</span> value
                with the <span class='javatype'>int</span> constant <span class='javavalue'>0xffff</span>.
              </p>
            </div>
          </div>

          <div id='java-long' class='section'>
            <h4>long</h4>

            <p>
              IDL <a class='idltype' href='#idl-long'>long</a> values are
              represented by Java <span class='javatype'>int</span> values.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
              a Java <span class='javatype'>int</span> value to an IDL value
              is the IDL <span class='idltype'>long</span>
              that represents the same numeric value as the Java
              <span class='javatype'>int</span>.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <span class='idltype'>long</span> value to a Java
              value is the Java <span class='javatype'>int</span> that
              represents the same numeric value as the IDL
              <span class='idltype'>short</span>.
            </p>
          </div>

          <div id='java-unsigned-long' class='section'>
            <h4>unsigned long</h4>

            <p>
              IDL <a class='idltype' href='#idl-unsigned-long'>unsigned long</a> values are
              represented by Java <span class='javatype'>int</span> values.  Note that while
              the IDL <a class='idltype' href='#idl-unsigned-long'>unsigned long</a> type is unsigned, with a
              range of [0, 4294967295], the Java <span class='javatype'>int</span> type
              is signed, with a range of [−2147483648, 2147483647].
            </p>
            <p>
              <a class='dfnref' href='#dfn-convert-idl-to-java-value'>Conversion</a>
              of an IDL <a class='idltype' href='#idl-unsigned-long'>unsigned long</a> value to a
              Java <span class='javatype'>int</span> is performed as follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>x</var> be the IDL <a class='idltype' href='#idl-unsigned-long'>unsigned long</a> value to convert.</li>
              <li>If <var>x</var> &lt; 2147483648, return the Java <span class='javatype'>int</span> whose value is <var>x</var>.</li>
              <li>Otherwise <var>x</var> ≥ 2147483648.  Return the Java <span class='javatype'>int</span> whose value is <var>x</var> − 4294967296.</li>
            </ol>
            <div class='note'>
              <p>
                In Java this is the same as having the <a class='idltype' href='#idl-unsigned-long'>unsigned long</a> value stored in
                a Java <span class='javatype'>long</span> and casting it to an <span class='javatype'>int</span>.
              </p>
            </div>
            <p>
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>Conversion</a>
              of a Java <span class='javatype'>int</span> to an IDL
              <a class='idltype' href='#idl-unsigned-long'>unsigned long</a> value
              is performed as follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>x</var> be the Java <span class='javatype'>int</span> value to decode.</li>
              <li>If <var>x</var> ≥ 0, return the IDL <a class='idltype' href='#idl-unsigned-long'>unsigned long</a> whose value is <var>x</var>.</li>
              <li>Otherwise <var>x</var> &lt; 0.  Return the IDL <a class='idltype' href='#idl-unsigned-long'>unsigned long</a> whose value is <var>x</var> + 4294967296.</li>
            </ol>
            <div class='note'>
              <p>
                In Java this is the same as performing a bit-wise AND of the <span class='javatype'>int</span> value
                with the <span class='javatype'>long</span> constant <span class='javavalue'>0xffffffffL</span>.
              </p>
            </div>
          </div>

          <div id='java-long-long' class='section'>
            <h4>long long</h4>

            <p>
              IDL <a class='idltype' href='#idl-long-long'>long long</a> values are
              represented by Java <span class='javatype'>long</span> values.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
              a Java <span class='javatype'>long</span> value to an IDL value
              is the IDL <span class='idltype'>long long</span>
              that represents the same numeric value as the Java
              <span class='javatype'>long</span>.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <span class='idltype'>long long</span> value to a Java
              value is the Java <span class='javatype'>long</span> that
              represents the same numeric value as the IDL
              <span class='idltype'>long long</span>.
            </p>
          </div>

          <div id='java-unsigned-long-long' class='section'>
            <h4>unsigned long long</h4>

            <p>
              IDL <a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a> values are
              represented by Java <span class='javatype'>long</span> values.  Note that while
              the IDL <a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a> type is unsigned, with a
              range of [0, 18446744073709551615], the Java <span class='javatype'>long</span> type
              is signed, with a range of [−9223372036854775808, 9223372036854775807].
            </p>
            <p>
              <a class='dfnref' href='#dfn-convert-idl-to-java-value'>Conversion</a>
              of an IDL <a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a> value to a
              Java <span class='javatype'>long</span> is performed as follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>x</var> be the IDL <a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a> value to convert.</li>
              <li>If <var>x</var> &lt; 18446744073709551616, return the Java <span class='javatype'>long</span> whose value is <var>x</var>.</li>
              <li>Otherwise <var>x</var> ≥ 18446744073709551616.  Return the Java <span class='javatype'>long</span> whose value is <var>x</var> − 18446744073709551615.</li>
            </ol>
            <p>
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>Conversion</a>
              of a Java <span class='javatype'>long</span> to an IDL
              <a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a> value
              is performed as follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>x</var> be the Java <span class='javatype'>long</span> value to decode.</li>
              <li>If <var>x</var> ≥ 0, return the IDL <a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a> whose value is <var>x</var>.</li>
              <li>Otherwise <var>x</var> &lt; 0.  Return the IDL <a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a> whose value is <var>x</var> + 18446744073709551615.</li>
            </ol>
          </div>

          <div id='java-float' class='section'>
            <h4>float</h4>

            <p>
              IDL <a class='idltype' href='#idl-float'>float</a> values are
              represented by Java <span class='javatype'>float</span> values.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
              a Java <span class='javatype'>float</span> value to an IDL value
              is the IDL <span class='idltype'>float</span>
              that represents the same numeric value as the Java
              <span class='javatype'>float</span>.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <span class='idltype'>float</span> value to a Java
              value is the Java <span class='javatype'>float</span> that
              represents the same numeric value as the IDL
              <span class='idltype'>float</span>.
            </p>
          </div>

          <div id='java-double' class='section'>
            <h4>double</h4>

            <p>
              IDL <a class='idltype' href='#idl-double'>double</a> values are
              represented by Java <span class='javatype'>double</span> values.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
              a Java <span class='javatype'>double</span> value to an IDL value
              is the IDL <span class='idltype'>double</span>
              that represents the same numeric value as the Java
              <span class='javatype'>double</span>.
            </p>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <span class='idltype'>double</span> value to a Java
              value is the Java <span class='javatype'>double</span> that
              represents the same numeric value as the IDL
              <span class='idltype'>double</span>.
            </p>
          </div>

          <div id='java-DOMString' class='section'>
            <h4>DOMString</h4>

            <p>
              IDL <a class='idltype' href='#idl-DOMString'>DOMString</a> values are
              represented by Java <span class='javatype'>java.lang.String</span> reference
              values.
            </p>
            <p>
              A Java <span class='javatype'>java.lang.String</span> reference value is
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a>
              to an IDL <span class='idltype'>DOMString</span> value as follows:
            </p>
            <ul>
              <li>If the value is <span class='javavalue'>null</span>, then throw a <span class='javatype'>java.lang.NullPointerException</span>.</li>
              <li>
                Otherwise, return the IDL <a class='idltype' href='#idl-DOMString'>DOMString</a>
                value that represents the same sequence of <a class='dfnref' href='#dfn-code-unit'>code units</a> as the one
                the Java <span class='javatype'>java.lang.String</span> value
                represents.
              </li>
            </ul>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <span class='idltype'>DOMString</span> value to a Java
              <span class='javatype'>java.lang.String</span> value is a
              <span class='javatype'>java.lang.String</span>
              object that represents the same sequence of characters that the
              IDL <span class='idltype'>DOMString</span> represents.
            </p>
          </div>

          <div id='java-object' class='section'>
            <h4>object</h4>

            <p>
              IDL <a class='idltype' href='#idl-object'>object</a> values are
              represented by Java <span class='estype'>java.lang.Object</span> reference
              values.
            </p>
            <p>
              A Java <span class='javatype'>java.lang.Object</span> reference value is
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a>
              to an IDL <span class='idltype'>object</span> value as follows:
            </p>
            <ul>
              <li>If the value is <span class='javavalue'>null</span>, then throw a <span class='javatype'>java.lang.NullPointerException</span>.</li>
              <li>
                Otherwise, return the IDL <span class='idltype'>object</span> value that
                is a reference to the same object.
              </li>
            </ul>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <span class='idltype'>object</span> value to a Java
              value is a Java <span class='javatype'>java.lang.Object</span> value
              that is a reference to the same object.
            </p>
          </div>

          <div id='java-interface' class='section'>
            <h4>Interface types</h4>

            <p>
              IDL <a href='#idl-interface'>interface type</a> values are
              represented by Java references of the corresponding Java interface type.
              (See <a href='#java-interfaces'>section <?sref java-interfaces?></a> <?sdir java-interfaces?>
              for how IDL <a class='dfnref' href='#dfn-interface'>interfaces</a> have
              corresponding Java interfaces.)
            </p>
            <p>
              A Java value <var>V</var> is
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a>
              to an IDL <a href='#idl-interface'>interface type</a> value
              by running the following algorithm (where <var>I</var> is the <a class='dfnref' href='#dfn-interface'>interface</a>):
            </p>
            <ol class='algorithm'>
              <li>If <var>V</var> is a <a class='dfnref' href='#dfn-platform-object'>platform object</a> that implements <var>I</var>,
                then return the IDL <a href='#idl-interface'>interface type</a> value that represents a reference to that platform object.</li>
              <li>If <var>V</var> is a <a class='dfnref' href='#dfn-user-object'>user object</a> that is considered to implement <var>I</var>
                according to the rules in <a href='#java-user-objects'>section <?sref java-user-objects?></a>,
                then return the IDL <a href='#idl-interface'>interface type</a> value that represents a reference to that user object.</li>
              <li>Otherwise, <var>V</var> is an object that implements the Java interface for <var>I</var> but <var>I</var> is
                not annotated with the <a class='xattr' href='#Callback'>[Callback]</a> <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>.
                Throw a <span class='javatype'>java.lang.IllegalArgumentException</span>.</li>
            </ol>
            <p>
              <a class='dfnref' href='#dfn-convert-idl-to-java-value'>Conversions from</a> IDL
              <a href='#idl-interface'>interface type</a> values to Java values
              are performed in the same way as that for the IDL
              <a class='idltype' href='#idl-object'>object</a> type.
            </p>
          </div>

          <div id='java-dictionary' class='section'>
            <h4>Dictionary types</h4>

            <p>
              IDL <a href='#idl-dictionary'>dictionary type</a> values are
              represented by Java references to objects of the
              <span class='javatype'>java.util.HashMap&lt;java.lang.String,java.lang.Object></span> class.
              Each <a class='dfnref' href='#dfn-dictionary-member'>dictionary member</a> that is
              <a class='dfnref' href='#dfn-present'>present</a>
              corresponds to an entry in the <span class='javatype'>HashMap</span>.
            </p>
            <p>
              A Java <span class='javatype'>java.util.HashMap&lt;java.lang.String,java.lang.Object></span> reference value
              <var>O</var> is
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a>
              to an IDL <a href='#idl-dictionary'>dictionary type</a> value
              by running the following algorithm (where <var>D</var> is the <a class='dfnref' href='#dfn-dictionary'>dictionary</a>):
            </p>
            <ol class='algorithm'>
              <li>If <var>O</var> is <span class='javavalue'>null</span>, then throw a <span class='javatype'>java.lang.NullPointerException</span>.</li>
              <li>Let <var>dict</var> be an empty dictionary value of type <var>D</var>;
              every <a class='dfnref' href='#dfn-dictionary-member'>dictionary member</a>
              is initially considered to be <a class='dfnref' href='#dfn-present'>not present</a>.</li>
              <li>Let <var>dictionaries</var> be a list consisting of <var>D</var> and all of <var>D</var>’s <a class='dfnref' href='#dfn-inherited-dictionaries'>inherited dictionaries</a>,
                in order from least to most derived.</li>
              <li>For each dictionary <var>dictionary</var> in <var>dictionaries</var>, in order:
                <ol>
                  <li>For each dictionary member <var>member</var> declared on <var>dictionary</var>, in order:
                    <ol>
                      <li>Let <var>key</var> be the <a class='dfnref' href='#dfn-identifier'>identifier</a> of <var>member</var>.</li>
                      <li>Let <var>javaKey</var> be the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a> <var>key</var> to a <span class='javatype'>java.lang.String</span>.</li>
                      <li>Let <var>present</var> be the result of calling the <code>containsKey</code> method on <var>O</var> with <var>javaKey</var> as the only argument.</li>
                      <li>If <var>present</var> is true, then:
                        <ol>
                          <li>Let <var>value</var> be the result of calling the <code>get</code> method on <var>O</var> <var>javaKey</var> as the only argument.</li>
                          <li>Let <var>idlValue</var> be the result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a> <var>value</var> to an IDL value whose type is the type <var>member</var> is declared to be of.</li>
                          <li>Set the dictionary member on <var>dict</var> with key name <var>key</var> to the value <var>idlValue</var>.  This dictionary member is considered to be <a class='dfnref' href='#dfn-present'>present</a>.</li>
                        </ol>
                      </li>
                    </ol>
                  </li>
                </ol>
              </li>
              <li>Return <var>dict</var>.</li>
            </ol>
            <p>
              An IDL <a href='#idl-dictionary'>dictionary type</a> value <var>V</var> is
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a> to a Java
              <span class='javatype'>java.util.HashMap&lt;java.lang.String,java.lang.Object></span> reference value
              by running the following algorithm (where <var>D</var> is the <a class='dfnref' href='#dfn-dictionary'>dictionary</a>):
            </p>
            <ol class='algorithm'>
              <li>Let <var>O</var> be a new <span class='javatype'>java.util.HashMap&lt;java.lang.String,java.lang.Object></span> object.</li>
              <li>Let <var>dictionaries</var> be a list consisting of <var>D</var> and all of <var>D</var>’s <a class='dfnref' href='#dfn-inherited-dictionaries'>inherited dictionaries</a>,
                in order from least to most derived.</li>
              <li>For each dictionary <var>dictionary</var> in <var>dictionaries</var>, in order:
                <ol>
                  <li>For each dictionary member <var>member</var> declared on <var>dictionaries</var>, in order:
                    <ol>
                      <li>Let <var>key</var> be the <a class='dfnref' href='#dfn-identifier'>identifier</a> of <var>member</var>.</li>
                      <li>Let <var>javaKey</var> be the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a> <var>key</var> to a <span class='javatype'>java.lang.String</span>.</li>
                      <li>If the dictionary member named <var>key</var> is <a class='dfnref' href='#dfn-present'>present</a> on <var>V</var>, then:
                        <ol>
                          <li>Let <var>idlValue</var> be the value of <var>member</var> on <var>V</var>.</li>
                          <li>Let <var>value</var> be the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a> <var>idlValue</var> to a Java value
                          as if <var>value</var> were an IDL <span class='idltype'>any</span> value.</li>
                          <li>Call the <code>put</code> method on <var>O</var> with arguments <var>javaKey</var> and <var>value</var>.</li>
                        </ol>
                      </li>
                    </ol>
                  </li>
                </ol>
              </li>
              <li>Return <var>O</var>.</li>
            </ol>
          </div>

          <div id='java-enumeration' class='section'>
            <h4>Enumeration types</h4>

            <p>
              IDL <a href='#idl-enumeration'>enumeration type</a> values are
              represented by Java <span class='javatype'>java.lang.String</span>
              reference values.
            </p>
            <p>
              A Java <span class='javatype'>java.lang.String</span> reference value is
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a>
              to an IDL <a href='#idl-enumeration'>enumeration type</a> value as follows
              (where <var>E</var> is the <a class='dfnref' href='#dfn-enumeration'>enumeration</a>):
            </p>
            <ul>
              <li>If the value is <span class='javavalue'>null</span>, then throw a <span class='javatype'>java.lang.NullPointerException</span>.</li>
              <li>If the <span class='javatype'>java.lang.String</span> object does not represent the
                same string as any of the <a class='dfnref' href='#dfn-enumeration-value'>enumeration’s values</a>,
                then throw a <span class='javatype'>java.lang.IllegalArgumentException</span>.</li>
              <li>Return the enumeration value of type <var>E</var> that is equal to the string
                the <span class='javatype'>java.lang.String</span> object represents.</li>
            </ul>
            <p>
              The result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              an IDL <a class='dfnref' href='#dfn-enumeration'>enumeration type</a> value to a Java
              <span class='javatype'>java.lang.String</span> value is a
              <span class='javatype'>java.lang.String</span>
              object that represents the same sequence of <a class='dfnref' href='#dfn-code-unit'>code units</a>
              as the <a class='dfnref' href='#dfn-enumeration-value'>enumeration value</a>.
            </p>
          </div>

          <div id='java-nullable-type' class='section'>
            <h4>Nullable types — <var>T</var>?</h4>

            <p>
              IDL <a class='dfnref' href='#dfn-nullable-type'>nullable type</a>
              values are represented with Java object references of a particular
              class, as determined by the table below:
            </p>
            <table class='vert'>
              <tr>
                <th>Nullable type</th>
                <th>Java class</th>
                <th>Method to get value</th>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-boolean'>boolean</a>?</span></td>
                <td><span class='javatype'>java.lang.Boolean</span></td>
                <td><code>booleanValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-byte'>byte</a>?</span></td>
                <td><span class='javatype'>java.lang.Byte</span></td>
                <td><code>byteValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-octet'>octet</a>?</span></td>
                <td><span class='javatype'>java.lang.Byte</span></td>
                <td><code>byteValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-short'>short</a>?</span></td>
                <td><span class='javatype'>java.lang.Short</span></td>
                <td><code>shortValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-unsigned-short'>unsigned short</a>?</span></td>
                <td><span class='javatype'>java.lang.Short</span></td>
                <td><code>shortValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-long'>long</a>?</span></td>
                <td><span class='javatype'>java.lang.Integer</span></td>
                <td><code>intValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-unsigned-long'>unsigned long</a>?</span></td>
                <td><span class='javatype'>java.lang.Integer</span></td>
                <td><code>intValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-long-long'>long long</a>?</span></td>
                <td><span class='javatype'>java.lang.Long</span></td>
                <td><code>longValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-unsigned-long-long'>unsigned long long</a>?</span></td>
                <td><span class='javatype'>java.lang.Long</span></td>
                <td><code>longValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-float'>float</a>?</span></td>
                <td><span class='javatype'>java.lang.Float</span></td>
                <td><code>floatValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-double'>double</a>?</span></td>
                <td><span class='javatype'>java.lang.Double</span></td>
                <td><code>doubleValue()</code></td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-DOMString'>DOMString</a>?</span></td>
                <td><span class='javatype'>java.lang.String</span></td>
                <td>–</td>
              </tr>
              <tr>
                <td>Enumeration type <span class='idltype'><var>T</var>?</span></td>
                <td><span class='javatype'>java.lang.String</span></td>
                <td>–</td>
              </tr>
              <tr>
                <td>Interface type <span class='idltype'><var>T</var>?</span></td>
                <td>The Java interface corresponding to IDL type <var>T</var></td>
                <td>–</td>
              </tr>
              <tr>
                <td>Dictionary type <span class='idltype'><var>T</var>?</span></td>
                <td><span class='javatype'>java.util.HashMap&lt;java.lang.String,java.lang.Object></span></td>
                <td>–</td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-sequence'>sequence&lt;<var>T</var>></a>?</span></td>
                <td><span class='javatype'><var>U</var>[]</span>, where <var>U</var> is the Java type used to represent the IDL type <var>T</var></td>
                <td>–</td>
              </tr>
              <tr>
                <td><span class='idltype'><a href='#idl-array'><var>T</var>[]</a>?</span></td>
                <td>The <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a> for IDL type <var>T</var></td>
                <td>–</td>
              </tr>
            </table>
            <p>
              How to <a class='dfnref' href='#dfn-convert-java-to-idl-value'>convert a Java value</a>
              of one of the above classes to an IDL nullable type <span class='idltype'><var>T</var>?</span>
              depends on the object reference value and the type <var>T</var>:
            </p>
            <dl class='switch'>
              <dt>If the object reference value is <span class='javavalue'>null</span></dt>
              <dd>
                The IDL value is the <span class='idlvalue'>null</span> <span class='idltype'><var>T</var>?</span> value.
              </dd>
              <dt>If the value is not an object of the right type for <var>T</var> according to the table above</dt>
              <dd>
                Throw a <span class='javatype'>java.lang.IllegalArgumentException</span>.
              </dd>
              <dt>If <var>T</var> is a <a class='dfnref' href='#dfn-primitive-type'>primitive type</a></dt>
              <dd>
                Let <var>method</var> be the method indicated in the table above for type <var>T</var>.
                The IDL value is a <span class='idltype'><var>T</var>?</span> whose value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the result of calling <var>method</var> on the object to type <var>T</var>.
              </dd>
              <dt>Anything else</dt>
              <dd>
                The IDL value is a <span class='idltype'><var>T</var>?</span> whose value is obtained
                by <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                the object reference value to type <var>T</var>.
              </dd>
            </dl>
            <p>
              How to <a class='dfnref' href='#dfn-convert-idl-to-java-value'>convert</a>
              an IDL nullable type value to a Java value depends on
              its value and the <a class='dfnref' href='#dfn-inner-type'>inner type</a>:
            </p>
            <dl class='switch'>
              <dt>If the IDL value is <span class='idlvalue'>null</span></dt>
              <dd>
                The Java value is <span class='javavalue'>null</span>.
              </dd>
              <dt>If the IDL value is a non-<span class='idlvalue'>null</span> nullable <a class='dfnref' href='#dfn-primitive-type'>primitive</a> value</dt>
              <dd>
                <p>
                  The Java value is the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                  the IDL <a class='dfnref' href='#dfn-inner-type'>inner type</a> to a Java value, and then passing
                  that value to the static method according to the following table,
                  where <var>T</var> is the IDL <a class='dfnref' href='#dfn-inner-type'>inner type</a>:
                </p>
                <table class='vert'>
                  <tr>
                    <th><var>T</var></th>
                    <th>Method</th>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-boolean'>boolean</a></td>
                    <td><code>java.lang.Boolean.valueOf(boolean)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-byte'>byte</a></td>
                    <td><code>java.lang.Byte.valueOf(byte)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-octet'>octet</a></td>
                    <td><code>java.lang.Byte.valueOf(byte)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-short'>short</a></td>
                    <td><code>java.lang.Short.valueOf(short)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-unsigned-short'>unsigned short</a></td>
                    <td><code>java.lang.Short.valueOf(short)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-long'>long</a></td>
                    <td><code>java.lang.Integer.valueOf(int)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-unsigned-long'>unsigned long</a></td>
                    <td><code>java.lang.Integer.valueOf(int)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-long-long'>long long</a></td>
                    <td><code>java.lang.Long.valueOf(long)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-unsigned-long-long'>unsigned long long</a></td>
                    <td><code>java.lang.Long.valueOf(long)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-float'>float</a></td>
                    <td><code>java.lang.Float.valueOf(float)</code></td>
                  </tr>
                  <tr>
                    <td><a class='idltype' href='#idl-double'>double</a></td>
                    <td><code>java.lang.Double.valueOf(double)</code></td>
                  </tr>
                </table>
              </dd>
              <dt>If the IDL value is a non-<span class='idlvalue'>null</span> <span class='idltype'>DOMString?</span> value</dt>
              <dd>
                The Java value is a <span class='javatype'>java.lang.String</span> object representing
                the same sequence of <a class='dfnref' href='#dfn-code-unit'>code units</a> as the <span class='idltype'>DOMString?</span> value.
              </dd>
              <dt>If the IDL value is a non-<span class='idlvalue'>null</span> nullable <a href='#idl-enumeration'>enumeration</a> value</dt>
              <dd>
                The Java value is a <span class='javatype'>java.lang.String</span> object representing
                the same sequence of <a class='dfnref' href='#dfn-code-unit'>code units</a> as the enumeration value.
              </dd>
              <dt>If the IDL value is a non-<span class='idlvalue'>null</span> <span class='idltype'>sequence&lt;<var>T</var>>?</span> value</dt>
              <dd>
                The Java value is the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                the IDL sequence value to a Java array object, as described in
                <a href='#java-sequence'>section <?sref java-sequence?></a> <?sdir java-sequence?>.
              </dd>
              <dt>If the IDL value is a non-<span class='idlvalue'>null</span> <span class='idltype'><var>T</var>[]?</span> value</dt>
              <dd>
                The Java value is the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                the IDL array value to a Java object implementing the <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
                for <var>T</var>, as described in <a href='#java-sequence'>section <?sref java-array?></a> <?sdir java-array?>.
              </dd>
              <dt>If the IDL value is a non-<span class='idlvalue'>null</span> nullable <a href='#idl-interfaces'>dictionary type</a> value</dt>
              <dd>
                The Java value is the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                the IDL dictionary value to a Java <span class='javatype'>java.util.HashMap&lt;java.lang.String,java.lang.Object></span>
                object, as described in
                <a href='#java-sequence'>section <?sref java-dictionary?></a> <?sdir java-dictionary?>.
              </dd>
              <dt>If the IDL value is a non-<span class='idlvalue'>null</span> nullable <a href='#idl-interfaces'>interface type</a> or <span class='idltype'>object?</span> value</dt>
              <dd>
                The Java value is a reference to the same object.
              </dd>
            </dl>
          </div>

          <div id='java-sequence' class='section'>
            <h4>Sequences — sequence&lt;<var>T</var>></h4>

            <p>
              IDL <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a> values are
              represented by Java arrays of type <var>U</var>, where <var>U</var> is the Java type used to
              represent the IDL type <var>T</var>.
            </p>
            <p>
              A Java array <var>A</var> of type <var>U</var> is <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a>
              to an IDL <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a> as follows:
            </p>
            <ol class='algorithm'>
              <li>If <var>A</var> is <span class='javavalue'>null</span>, then throw a <span class='javatype'>java.lang.NullPointerException</span>.</li>
              <li>Let <var>n</var> be the length of the array <var>A</var>.</li>
              <li>Initialize <var>S</var><sub>0..<var>n</var>−1</sub> to be an IDL sequence with elements of type <var>T</var>, where each element is uninitialized.</li>
              <li>Initialize <var>i</var> to be 0.</li>
              <li>While <var>i</var> &lt; <var>n</var>:
                <ol>
                  <li>Let <var>E</var> be the value value of <var>A</var> at index <var>i</var>.</li>
                  <li>Set <var>S</var><sub><var>i</var></sub> to the result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                    <var>E</var> to an IDL value of type <var>T</var>.</li>
                  <li>Set <var>i</var> to <var>i</var> + 1.</li>
                </ol>
              </li>
              <li>Return <var>S</var>.</li>
            </ol>
            <p>
              An IDL sequence value <var>S</var><sub>0..<var>n</var>−1</sub> of type
              <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a> is
              <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converted</a>
              to a Java array of type <var>U</var> object as follows:
            </p>
            <ol class='algorithm'>
              <li>Let <var>A</var> be a new Java array object with element type <var>U</var> and length <var>n</var>.</li>
              <li>Initialize <var>i</var> to be 0.</li>
              <li>While <var>i</var> &lt; <var>n</var>:
                <ol>
                  <li>Let <var>E</var> be the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                    <var>S</var><sub><var>i</var></sub> to a Java value of type <var>U</var>.</li>
                  <li>Set element <var>i</var> of the array <var>A</var> to the value <var>E</var>.</li>
                  <li>Set <var>i</var> to <var>i</var> + 1.</li>
                </ol>
              </li>
              <li>Return <var>A</var>.</li>
            </ol>
            <p>
              A Java object implementing an <a class='dfnref' href='#dfn-interface'>interface</a>
              with an <a class='dfnref' href='#dfn-operation'>operation</a> declared to return
              a <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a> value
              <span class='rfc2119'>MUST NOT</span> return <span class='javavalue'>null</span> from the corresponding method.
              Similarly, a <a class='dfnref' href='#dfn-getter-method'>getter method</a> for an IDL
              <a class='dfnref' href='#dfn-attribute'>attribute</a> <span class='rfc2119'>MUST NOT</span>
              return <span class='javavalue'>null</span> if the attribute
              is declared to be of type <a class='idltype' href='#idl-sequence'>sequence&lt;<var>T</var>></a>.
            </p>
          </div>

          <div id='java-array' class='section'>
            <h4>Arrays — <var>T</var>[]</h4>

            <p>
              IDL <a class='idltype' href='#idl-array'><var>T</var>[]</a> values are
              represented by Java objects implementing a particular interface,
              known as the <dfn id='dfn-java-array-interface'>Java array interface</dfn>,
              depending on the type <var>T</var>.
            </p>
            <p>
              For each of the <a class='dfnref' href='#dfn-primitive-type'>primitive types</a>
              there <span class='rfc2119'>MUST</span> exist a corresponding
              <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
              of the following form:
            </p>
            <x:codeblock language='java'>package org.w3c.dom;

public interface <var>PrimitiveName</var>Array {
  int getLength();
  void setLength(int length);
  <var>PrimitiveType</var> getElement(int index);
  void setElement(int index, <var>PrimitiveType</var> value);
}</x:codeblock>
            <p>
              where <var>PrimitiveName</var> is the <a class='dfnref' href='#dfn-type-name'>type name</a>
              of the primitive type and <var>PrimitiveType</var> is the Java type used
              to represent it.
            </p>
            <div class='example'>
              <p>
                For example, the <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
                for the <span class='idltype'>octet[]</span> type is:
              </p>
              <x:codeblock language='java'>package org.w3c.dom;

public interface OctetArray {
  int getLength();
  void setLength(int length);
  byte getElement(int index);
  void setElement(int index, byte value);
}</x:codeblock>
            </div>
            <p>
              There <span class='rfc2119'>MUST</span> also exist the following interface, <span class='javatype'>org.w3c.dom.ObjectArray&lt;<var>E</var>></span>:
            </p>
            <x:codeblock language='java'>package org.w3c.dom;

public interface ObjectArray&lt;E&gt; {
  int getLength();
  void setLength(int length);
  E getElement(int index);
  void setElement(int index, E value);
}</x:codeblock>
            <p>
              This interface, parameterized by the Java type used to represent array element
              type <var>T</var>, is the corresponding <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
              for <var>T</var>.
            </p>
            <div class='example'>
              <p>
                For example, the <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
                for the <span class='idltype'>DOMString[]?[]</span> type is
                <span class='javatype'>org.w3c.dom.ObjectArray&lt;java.lang.ObjectArray&lt;java.lang.String>></span>.
              </p>
            </div>

            <p>
              A Java object that implements a <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
              represents a given <a href='#idl-array'>IDL array</a> value of type <span class='idltype'><var>T</var>[]</span>.
              The methods on the object that implement that interface <span class='rfc2119'>MUST</span> behave as follows:
            </p>
            <dl>
              <dt><code>getLength()</code></dt>
              <dd>
                <p>This method returns the current length of the <a href='#idl-array'>IDL array</a> value.</p>
              </dd>

              <dt><code>setLength(<var>length</var>)</code></dt>
              <dd>
                <p>When called on an object representing a <a class='dfnref' href='#dfn-fixed-length'>variable length</a>
                array, this method sets the length of the array to <var>length</var>.  When the array is lengthened, the new
                elements are set to the IDL value that results from <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting to an IDL value</a> the
                <a href='http://java.sun.com/docs/books/jls/third_edition/html/typesValues.html#96595'>default value</a>
                of the Java type that <var>T</var> corresponds to (<a href='#ref-JLS3'>[JLS3]</a>, section 4.12.5).</p>

                <p>When called on an object representing a <a class='dfnref' href='#dfn-fixed-length'>fixed length</a>
                array, this method throws a <span class='javatype'>java.lang.UnsupportedOperationException</span>.</p>
              </dd>

              <dt><code>getElement(<var>index</var>)</code></dt>
              <dd>
                <p>This method returns the IDL value of type <var>T</var> at the represented array’s index <var>index</var>
                <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converted to a Java value</a>.</p>
              </dd>

              <dt><code>setElement(<var>index</var>, <var>value</var>)</code></dt>
              <dd>
                <p>When called on an object representing an array that is not <a class='dfnref' href='#dfn-read-only-array'>read only</a>,
                this method sets the IDL value at the represented array’s index <var>index</var> to
                the result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                <var>value</var> to an IDL value of type <var>T</var>.</p>

                <p>When called on an object representing an array that is <a class='dfnref' href='#dfn-read-only-array'>read only</a>,
                this method throws a <span class='javatype'>java.lang.UnsupportedOperationException</span>.</p>
              </dd>
            </dl>

            <p>
              A Java reference value <var>O</var> for an object implementing a
              <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
              is <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a> to an
              <a href='#idl-array'>IDL array</a> value as follows:
            </p>
            <ul>
              <li>If <var>O</var> is <span class='javavalue'>null</span>, then throw a <span class='javatype'>java.lang.NullPointerException</span>.</li>
              <li>Otherwise, if <var>O</var> is an object implementing a <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
                corresponding to a <a class='dfnref' href='#dfn-primitive-type'>primitive type</a>, then the IDL array value
                is the array value that <var>O</var> represents.  The type of the IDL array value is
                <span class='idltype'><var>T</var>[]</span>, where <var>T</var> is the primitive type.</li>
              <li>Otherwise, if <var>O</var> is an object implementing <span class='javatype'>org.w3c.dom.ObjectArray&lt;<var>E</var>></span>,
                then the IDL array value is the array value that <var>O</var> represents.  The type of
                the IDL array value is the IDL type that <var>E</var> corresponds to.</li>
            </ul>

            <p>
              An <a href='#idl-array'>IDL array</a> value <var>A</var> of type <span class='idltype'><var>T</var>[]</span>
              is <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a> to a
              Java value whose type is an object implementing the <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
              corresponding to <var>T</var>, as follows:
            </p>
            <ul>
              <li>If <var>A</var> is already represented by an object implementing a <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>,
                then the Java value is that object.</li>
              <li>Otherwise, the Java value is newly created object implementing the <a class='dfnref' href='#dfn-java-array-interface'>Java array interface</a>
                that corresponds to <var>T</var>.</li>
            </ul>
          </div>

          <div id='java-Date' class='section'>
            <h4>Date</h4>

            <p>
              IDL <a class='idltype' href='#idl-Date'>Date</a> values are
              represented by Java <span class='estype'>java.util.Date</span> reference
              values.
            </p>
            <p>
              A Java <span class='javatype'>java.lang.Date</span> reference value is
              <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converted</a>
              to an IDL <span class='idltype'>Date</span> value as follows:
            </p>
            <ul>
              <li>If the value is <span class='javavalue'>null</span>, then throw a <span class='javatype'>java.lang.NullPointerException</span>.</li>
              <li>Let <var>m</var> be the millisecond that the <span class='javatype'>java.util.Date</span> object represents.</li>
              <li>If <var>m</var> cannot be represented by an IDL <span class='idltype'>Date</span> value, then return the <span class='idlvalue'>undefined</span> IDL <span class='idltype'>Date</span> value.</li>
              <li>Return the IDL <span class='idltype'>Date</span> value that represents <var>m</var>.</li>
            </ul>
            <p>
              An IDL <span class='idltype'>Date</span> value is
              <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converted</a>
              to a <span class='javatype'>java.lang.Date</span> reference value as follows:
            </p>
            <ul>
              <li>If the value is the <span class='idlvalue'>undefined</span> IDL <span class='idltype'>Date</span> value, then return
              a newly created <span class='javatype'>java.util.Date</span> object as if by calling <code>new java.util.Date(Long.MIN_VALUE)</code>.</li>
              <li>Otherwise, return a newly created <span class='javatype'>java.util.Date</span>
              object that represents the same millisecond that the IDL <span class='idlvalue'>Date</span> value does.</li>
            </ul>
          </div>
        </div>

        <div id='java-extended-attributes' class='section'>
          <h3>Java-specific extended attributes</h3>

          <p>
            This section defines a single <a href='#dfn-extended-attribute'>extended attribute</a>
            whose presence affects only the Java binding.
          </p>

          <div id='JavaPackage' class='section'>
            <h4>[JavaPackage]</h4>

            <p>
              If the <a class='xattr' href='#JavaPackage'>[JavaPackage]</a>
              <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>
              appears on an <a class='dfnref' href='#dfn-interface'>interface</a> or
              <a class='dfnref' href='#dfn-exception'>exception</a>,
              it specifies that the corresponding Java interface or class <span class='rfc2119'>MUST</span>
              be placed in the package identified.  When <a class='xattr' href='#JavaPackage'>[JavaPackage]</a>
              is not used, the Java interface or class <span class='rfc2119'>MUST</span> be placed
              in the <code>org.w3c.dom</code> package.
            </p>
            <p>
              The <a class='xattr' href='#JavaPackage'>[JavaPackage]</a>
              <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>
              <span class='rfc2119'>MUST</span> <dfn id='dfn-xattr-dotted-name'>take a dotted name</dfn>,
              which is defined as the extended attribute matching <span class='sym'>ExtendedAttributeDottedName</span>
              in the following grammar, which is to be interpreted in the same manner
              as the grammar in Web IDL (<a href='refs.html#ref-WEBIDL'>[WEBIDL]</a>, appendix A):
            </p>
            <grammar id='grammar' xmlns='http://mcc.id.au/ns/local'>
              <prod nt='ExtendedAttributeDottedName'>identifier DottedNameParts</prod>
              <prod nt='DottedNameParts'>"." identifier DottedNameParts | ε</prod>
            </grammar>
            <p>
              The dotted name identifies the Java package in which the Java interface or class
              is to be placed.
            </p>
            <p>
              Interfaces defined for the Web platform <span class='rfc2119'>SHOULD NOT</span>
              use <a class='xattr' href='#JavaPackage'>[JavaPackage]</a> unless required for
              compatibility.
            </p>

            <div class='example'>
              <p>
                The following <a class='dfnref' href='#dfn-idl-fragment'>IDL fragment</a> defines
                an IDL <a class='dfnref' href='#dfn-interface'>interface</a> whose corresponding
                Java interface will not be in the <code>org.w3c.dom</code> package.
              </p>
              <x:codeblock language='idl'>[JavaPackage=org.example]
interface Something {
};</x:codeblock>
            </div>
          </div>
        </div>

        <div id='java-interfaces' class='section'>
          <h3>Interfaces</h3>

          <p>
            For every supported IDL <a class='dfnref' href='#dfn-interface'>interface</a>,
            there <span class='rfc2119'>MUST</span> exist a corresponding public Java interface
            whose name is the <a class='dfnref' href='#dfn-java-escaped'>Java escaped</a>
            <a class='dfnref' href='#dfn-identifier'>identifier</a> of the IDL interface.
          </p>
          <p>
            The Java interface for an interface <var>A</var> <span class='rfc2119'>MUST</span> be declared to extend the following
            Java interfaces:
          </p>
          <ul>
            <li>the Java interface that corresponds to the interface from which <var>A</var>
            <a class='dfnref' href='#dfn-inherit'>inherits</a>, if it does inherit from one, and</li>
            <li>the Java interfaces that correspond to each interface on the right-hand side of
            an <a class='dfnref' href='#dfn-implements-statement'>implements statement</a> where <var>A</var>
            is on the left-hand side.</li>
          </ul>
          <p>
            If the IDL interface has one or more <a class='dfnref' href='#dfn-static-operation'>static operations</a>
            declared on it, then there <span class='rfc2119'>MUST</span> also exist
            a public, abstract Java class, which resides in the same Java
            package as the interface.
            This class is known as the <dfn id='dfn-utility-class'>utility class</dfn>
            for the IDL interface, and provides access to the static operations.
            The name of the Java class is the concatenation
            of the <a class='dfnref' href='#dfn-identifier'>identifier</a> of the IDL interface
            and the string “Utils”.  If this name is already
            the name of a Java class or interface, due to IDL definitions, then
            the name of the Java class is prefixed with a single
            <span class='char'>U+005F LOW LINE ("_")</span> character
            so as not to conflict.
          </p>

          <div id='java-constants' class='section'>
            <h4>Constants</h4>
            <p>
              For each <a class='dfnref' href='#dfn-constant'>constant</a> defined on
              the IDL <a class='dfnref' href='#dfn-interface'>interface</a>, there
              <span class='rfc2119'>MUST</span> be a corresponding constant declared on the Java interface
              with the following characteristics:
            </p>
            <ul>
              <li>The constant has no modifiers.</li>
              <li>
                The type of the constant is the Java type that corresponds to the type of
                the IDL constant, according to the rules in <a href='#java-type-mapping'>section <?sref java-type-mapping?></a>
                <?sdir java-type-mapping?>.
              </li>
              <li>
                The name of the constant is the <a class='dfnref' href='#dfn-java-escaped'>Java escaped</a>
                <a class='dfnref' href='#dfn-identifier'>identifier</a> of the constant.
              </li>
              <li>
                The value of the constant is the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                the constant’s IDL value to a Java value, according to the rules
                in <a href='#java-type-mapping'>section <?sref java-type-mapping?></a>
                <?sdir java-type-mapping?>.
              </li>
            </ul>
          </div>

          <div id='java-operations' class='section'>
            <h4>Operations</h4>
            <p>
              The <a class='dfnref' href='#dfn-operation'>operations</a> defined on
              an IDL <a class='dfnref' href='#dfn-interface'>interface</a>
              will result in one or more methods being declared on the Java interface (for
              <a class='dfnref' href='#dfn-regular-operation'>regular operations</a>)
              or on a Java utility class (for <a class='dfnref' href='#dfn-static-operation'>static operations</a>).
            </p>
            <p>
              For each unique identifier <var>id</var> of the
              <a class='dfnref' href='#dfn-regular-operation'>regular operations</a>
              declared on the IDL interface:
            </p>
            <ul>
              <li>
                For each entry &lt;<var>op</var>, <var>types</var>, <var>any</var>> in the
                <a class='dfnref' href='#dfn-effective-overload-set'>effective overload set</a>
                for <a class='dfnref' href='#dfn-regular-operation'>regular operations</a>
                with identifier <var>id</var> on the IDL interface and with argument
                count <var>0</var> (for the Java language binding), there <span class='rfc2119'>MUST</span>
                exist a method on the Java interface whose name, its <dfn id='dfn-java-method-name'>Java method name</dfn>,
                is determined as follows:
                <ol class='algorithm'>
                  <li>Let <var>identifier</var> be the <a class='dfnref' href='#dfn-identifier'>identifier</a> of the <a class='dfnref' href='#dfn-operation'>operation</a>.</li>
                  <li>Initialize <var>name</var> to be <var>identifier</var> <a class='dfnref' href='#dfn-java-escaped'>Java escaped</a>.</li>
                  <li>If <var>name</var> is the same as the name of
                    one of the methods defined on <span class='javatype'>java.lang.Object</span>,
                    then prepend a single <span class='char'>U+005F LOW LINE ("_")</span> character to <var>name</var>.</li>
                  <li>The name of the method is <var>name</var>.</li>
                </ol>
              </li>
            </ul>
            <p>
              For each unique identifier <var>id</var> of the
              <a class='dfnref' href='#dfn-static-operation'>static operations</a>
              declared on the IDL interface:
            </p>
            <ul>
              <li>
                For each entry &lt;<var>op</var>, <var>types</var>, <var>any</var>> in the
                <a class='dfnref' href='#dfn-effective-overload-set'>effective overload set</a>
                for <a class='dfnref' href='#dfn-static-operation'>static operations</a>
                with identifier <var>id</var> on the IDL interface and with argument
                count <var>0</var> (for the Java language binding), there <span class='rfc2119'>MUST</span>
                exist a method on the <a class='dfnref' href='#dfn-utility-class'>utility class</a>
                whose name is its <a class='dfnref' href='#dfn-java-method-name'>Java method name</a>
                and which is declared with modifiers <code>public static final</code>.
              </li>
            </ul>
            <p>
              For each identifierless <a class='dfnref' href='#dfn-special-operation'>special operation</a>
              declared on the IDL interface of the following types,
            </p>
            <ul>
              <li><a href='#dfn-indexed-property-getter'>indexed property getter</a></li>
              <li><a href='#dfn-indexed-property-setter'>indexed property setter</a></li>
              <li><a href='#dfn-indexed-property-creator'>indexed property creator</a></li>
              <li><a href='#dfn-indexed-property-deleter'>indexed property deleter</a></li>
              <li><a href='#dfn-named-property-getter'>named property getter</a></li>
              <li><a href='#dfn-named-property-setter'>named property setter</a></li>
              <li><a href='#dfn-named-property-creator'>named property creator</a></li>
              <li><a href='#dfn-named-property-deleter'>named property deleter</a></li>
              <li><a href='#dfn-legacy-caller'>legacy caller</a></li>
            </ul>
            <p>
              there <span class='rfc2119'>MUST</span> exist a method on the Java interface whose
              name is determined based on the type of special operation:
            </p>
            <table class='vert'>
              <tr><th>Type</th><th>Name</th></tr>
              <tr><td>indexed or named property getter</td><td>“_get”</td></tr>
              <tr><td>indexed or named property setter</td><td>“_set”</td></tr>
              <tr><td>indexed or named property creator</td><td>“_create”</td></tr>
              <tr><td>indexed or named property deleter</td><td>“_delete”</td></tr>
              <tr><td>caller</td><td>“_call”</td></tr>
            </table>
            <p>
              For all of the above operations – regular, static, and the abovementioned
              special operations – their corresponding Java methods have the following
              characteristics:
            </p>
            <ul>
              <li>
                The return type of the method is the Java type that corresponds to the operation
                <a class='dfnref' href='#dfn-return-type'>return type</a>, according to the rules in
                <a href='#java-type-mapping'>section <?sref java-type-mapping?></a> <?sdir java-type-mapping?>.
              </li>
              <li>
                The method has an argument for each type, in order, that is in <var>types</var>.  The type of
                method argument <var>j</var> is the Java type that corresponds to the IDL type <var>types</var><sub><var>j</var></sub>,
                according to the rules in <a href='#java-type-mapping'>section <?sref java-type-mapping?></a>
                <?sdir java-type-mapping?>.  If the length of <var>types</var> is the length of the
                argument list <var>op</var> is declared with, and <var>op</var> is a
                <a class='dfnref' href='#dfn-variadic-operation'>variadic operation</a>,
                then the method is a <em>variable arity method</em> (<a href='#ref-JLS3'>[JLS3]</a>,
                section 8.4.1).
              </li>
              <!--
              <li>
                If <var>op</var> has IDL <a class='dfnref' href='#dfn-exception'>exceptions</a>
                listed in the <a class='sym' href='#prod-Raises'>Raises</a> clause, then the
                method <span class='rfc2119'>SHOULD</span> have a <code>throws</code>
                clause specifying all of the Java exception classes that correspond
                to those IDL exceptions, and no others.  Otherwise, if <var>op</var> has no
                exceptions listed in the <a class='sym' href='#prod-Raises'>Raises</a> clause,
                then the method <span class='rfc2119'>SHOULD NOT</span> have a <code>throws</code>
                clause.
              </li>
              -->
              <li>
                An implementation of this method <span class='rfc2119'>MUST</span>
                perform the following steps:
                <ol class='algorithm'>
                  <li>
                    Let <var>arg</var><sub>0..<var>n</var>−1</sub> be the list
                    of Java argument values passed to the method.
                  </li>
                  <li>
                    Let <var>idlarg</var><sub>0..<var>n</var>−1</sub> be
                    a list of IDL values, where <var>idlarg</var><sub><var>i</var></sub>
                    is the result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                    <var>arg</var><sub><var>i</var></sub> to an IDL value
                    of the type that the <var>i</var>th argument is declared to be.
                  </li>
                  <li>
                    Let <var>R</var> be the result of performing the actions listed in the description of the operation
                    <var>op</var> with <var>idlarg</var><sub>0..<var>n</var>−1</sub>
                    as the argument values.
                  </li>
                  <li>
                    If the actions performed in the previous step resulted in an
                    exception being thrown, then allow that exception to propagate
                    out from this algorithm.  Otherwise, return the result of
                    <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                    <var>R</var> to a Java value of the type <var>op</var>
                    is declared to return.
                  </li>
                </ol>
              </li>
            </ul>
          </div>

          <div id='java-attributes' class='section'>
            <h4>Attributes</h4>
            <p>
              For each <a class='dfnref' href='#dfn-attribute'>attribute</a> defined on
              the IDL <a class='dfnref' href='#dfn-interface'>interface</a> that does not
              <a class='dfnref' href='#dfn-inherit-getter'>inherit its getter</a>, there
              <span class='rfc2119'>MUST</span> be a corresponding <dfn id='dfn-getter-method'>getter method</dfn>
              declared on the Java interface with the following characteristics:
            </p>
            <ul>
              <li>The method has no modifiers.</li>
              <li>
                The return type of the method is the Java type that corresponds to the attribute type,
                according to the rules in <a href='#java-type-mapping'>section <?sref java-type-mapping?></a>
                <?sdir java-type-mapping?>.
              </li>
              <li>
                The name of the method is determined as follows:
                <ol class='algorithm'>
                  <li>Let <var>identifier</var> be the <a class='dfnref' href='#dfn-identifier'>identifier</a> of the <a class='dfnref' href='#dfn-attribute'>attribute</a>.</li>
                  <li>Initialize <var>name</var> to be the string “get”.</li>
                  <li>Let <var>ucIdentifier</var> be <var>identifier</var> with first character uppercased,
                      as if passed to the <code>java.lang.Character.toUpperCase()</code> method.</li>
                  <li>If there exists another attribute on the <a class='dfnref' href='#dfn-interface'>interface</a>
                    with identifier <var>ucIdentifier</var>, then append a single <span class='char'>U+005F LOW LINE ("_")</span>
                    character to <var>name</var>.</li>
                  <li>Append <var>ucIdentifier</var> to <var>name</var>.</li>
                  <li>If there exists a <a class='dfnref' href='#dfn-constant'>constant</a> or
                    <a class='dfnref' href='#dfn-operation'>operation</a> on the interface with
                    identifier <var>name</var>, or if <var>name</var> is the same as the name of
                    one of the methods defined on <span class='javatype'>java.lang.Object</span>,
                    then prepend a single <span class='char'>U+005F LOW LINE ("_")</span> character to <var>name</var>.</li>
                  <li>The name of the method is <var>name</var>.</li>
                </ol>
              </li>
              <li>
                The method has no arguments.
              </li>
              <li>
                An implementation of this method <span class='rfc2119'>MUST</span>
                perform the following steps:
                <ol class='algorithm'>
                  <li x:step='a'>
                    Let <var>V</var> be the IDL value that results from
                    performing the actions listed for getting the corresponding attribute
                    in the description of the interface.
                  </li>
                  <li>
                    If the actions performed in the previous step resulted in an
                    exception being thrown, then allow that exception to propagate
                    out from this algorithm.  Otherwise, return the result of
                    <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                    <var>V</var> to a Java value of the type <var>op</var>
                    is declared to return.
                  </li>
                </ol>
              </li>
            </ul>
            <!--
            <p>
              In addition, the method <span class='rfc2119'>SHOULD</span> have a <code>throws</code>
              clause specifying all of the Java exception classes that correspond to the IDL
              <a class='dfnref' href='#dfn-exception'>exceptions</a> that are listed in the
              <a class='sym' href='#prod-GetRaises'>GetRaises</a> clause of the attribute, and no others.
            </p>
            -->
            <p>
              For each attribute defined on the IDL interface that is not
              <a class='dfnref' href='#dfn-read-only'>read only</a>, there
              <span class='rfc2119'>MUST</span> be a corresponding <dfn id='dfn-setter-method'>setter method</dfn>
              declared on the Java interface with the following characteristics:
            </p>
            <ul>
              <li>The method has no modifiers.</li>
              <li>
                The return type of the method is <span class='javatype'>void</span>.
              </li>
              <li>
                The name of the method is determined as follows:
                <ol class='algorithm'>
                  <li>Let <var>identifier</var> be the <a class='dfnref' href='#dfn-identifier'>identifier</a> of the <a class='dfnref' href='#dfn-attribute'>attribute</a>.</li>
                  <li>Initialize <var>name</var> to be the string “set”.</li>
                  <li>Let <var>ucIdentifier</var> be <var>identifier</var> with first character uppercased,
                      as if passed to the <code>java.lang.Character.toUpperCase()</code> method.</li>
                  <li>If there exists another attribute on the <a class='dfnref' href='#dfn-interface'>interface</a>
                    with identifier <var>ucIdentifier</var>, then append a single <span class='char'>U+005F LOW LINE ("_")</span>
                    character to <var>name</var>.</li>
                  <li>Append <var>ucIdentifier</var> to <var>name</var>.</li>
                  <li>If there exists a <a class='dfnref' href='#dfn-constant'>constant</a> or
                    <a class='dfnref' href='#dfn-operation'>operation</a> on the interface with
                    identifier <var>name</var>, or if <var>name</var> is the same as the name of
                    one of the methods defined on <span class='javatype'>java.lang.Object</span>,
                    then prepend a single <span class='char'>U+005F LOW LINE ("_")</span> character to <var>name</var>.</li>
                  <li>The name of the method is <var>name</var>.</li>
                </ol>
              </li>
              <li>
                The method has a single argument whose type is the Java type that corresponds
                to the attribute type, according to the rules in
                <a href='#java-type-mapping'>section <?sref java-type-mapping?></a> <?sdir java-type-mapping?>.
              </li>
              <li>
                An implementation of this method <span class='rfc2119'>MUST</span>
                perform the following steps:
                <ol class='algorithm'>
                  <li>
                    Let <var>arg</var> be the Java value that was passed as the
                    argument to the method.
                  </li>
                  <li>
                    Let <var>idlarg</var> be the result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                    <var>arg</var> to an IDL value of the type the attribute is declared to be.
                  </li>
                  <li x:step='a'>
                    Perform the actions for setting the corresponding attribute
                    with the value <var>idlarg</var> listed in the description of the interface.
                  </li>
                  <li>
                    If the actions performed in the previous step resulted in an
                    exception being thrown, then allow that exception to propagate
                    out from this algorithm.
                  </li>
                </ol>
              </li>
            </ul>
            <!--
            <p>
              In addition, the method <span class='rfc2119'>SHOULD</span> have a <code>throws</code>
              clause specifying all of the Java exception classes that correspond to the IDL
              exceptions that are listed in the
              <a class='sym' href='#prod-SetRaises'>SetRaises</a> clause of the attribute, and no others.
            </p>
            -->
            <!--
            <p>
              For each attribute defined on the IDL interface that is
              <a class='dfnref' href='#dfn-read-only'>read only</a> and is declared with the
              <a class='xattr' href='#PutForwards'>[PutForwards]</a>
              <a class='dfnref' href='#dfn-extended-attribute'>extended attribute</a>, there
              <span class='rfc2119'>MUST</span> be a corresponding setter method
              declared on the Java interface with the following characteristics:
            </p>
            <ul>
              <li>The method has no modifiers.</li>
              <li>
                The return type of the method is <span class='javatype'>void</span>.
              </li>
              <li>
                The tentative name of the method is a
                <span class='char'>U+0073 LATIN SMALL S ("s")</span> character, followed by a
                <span class='char'>U+0065 LATIN SMALL E ("e")</span> character, followed by a
                <span class='char'>U+0074 LATIN SMALL T ("t")</span> character, followed by
                the first character of the identifier of the attribute
                uppercased (as if passed to the <code>java.lang.Character.toUpperCase()</code>
                method), followed by the remaining characters from the identifier of the attribute.
                The name of the method is the Java escaped
                tenative name of the method prefixed with the smallest number
                of <span class='char'>U+005F LOW LINE ("_")</span> characters required to make the
                name not equal to the name of a constant or method declared on the Java interface or one of the
                methods on the <span class='javatype'>java.lang.Object</span> class.
              </li>
              <li>
                The method has a single argument whose type is the Java type that corresponds
                to the type of the attribute identified by the <a class='xattr' href='#PutForwards'>[PutForwards]</a>
                extended attribute on the interface type that
                this attribute is declared to be of, according to the rules in
                <a href='#java-type-mapping'>section <?sref java-type-mapping?></a> <?sdir java-type-mapping?>.
              </li>
              <li>
                An implementation of this method <span class='rfc2119'>MUST</span>
                perform the following steps:
                <ol class='algorithm'>
                  <li>
                    Let <var>arg</var> be the Java value that was passed as the
                    argument to the method.
                  </li>
                  <li>
                    Let <var>idlarg</var> be the result of <a class='dfnref' href='#dfn-convert-java-to-idl-value'>converting</a>
                    <var>arg</var> to an IDL value of the type the forwarded-to attribute
                    is declared to be.
                  </li>
                  <li x:step='a'>
                    Perform the actions for setting the corresponding attribute
                    with the value <var>idlarg</var> listed in the description of the interface.
                  </li>
                  <li>
                    If the actions performed in the previous step resulted in an
                    exception being thrown, then allow that exception to propagate
                    out from this algorithm.
                  </li>
                </ol>
              </li>
            </ul>
            <p>
              In addition, the method <span class='rfc2119'>SHOULD</span> have a <code>throws</code>
              clause specifying all of the Java exception classes that correspond to the IDL
              exceptions that are listed in the
              <a class='sym' href='#prod-SetRaises'>SetRaises</a> clause of the attribute
              identified by the <a class='xattr' href='#PutForwards'>[PutForwards]</a>
              extended attribute on the interface type that
              this attribute is declared to be of, and no others.
            </p>
            -->
          </div>
        </div>

        <div id='java-platform-objects' class='section'>
          <h3>Platform objects implementing interfaces</h3>
          <p>
            A Java <a class='dfnref' href='#dfn-platform-object'>platform object</a> that implements an IDL <a class='dfnref' href='#dfn-interface'>interface</a>
            <span class='rfc2119'>MUST</span> be of a Java class which implements the Java interface
            that corresponds to the IDL interface.
          </p>
          <p>
            If the IDL interface has a <a class='dfnref' href='#dfn-stringifier'>stringifier</a>,
            the <code>String toString()</code> method
            <span class='rfc2119'>MUST</span> be overridden to allow
            stringification of the object as required by the IDL
            interface.  If the <code>stringifier</code> keyword
            was used on an <a class='dfnref' href='#dfn-attribute'>attribute</a> <var>A</var>,
            then, assuming <var>O</var> is the object on which
            the method was invoked, the behavior of the overridden
            <code>toString</code> method <span class='rfc2119'>MUST</span>
            be as follows:
          </p>
          <ol class='algorithm'>
            <li>
              Let <var>R</var> be the result of invoking the <a class='dfnref' href='#dfn-getter-method'>getter
                method</a> on <var>O</var> that corresponds to the IDL
              <a class='dfnref' href='#dfn-attribute'>attribute</a>
              <var>A</var>.
            </li>
            <li>Return <var>R</var>.</li>
          </ol>
          <p>
            Otherwise, if the <code>stringifier</code> keyword
            was used on an <a class='dfnref' href='#dfn-operation'>operation</a>
            <var>O</var> with an <a class='dfnref' href='#dfn-identifier'>identifier</a>,
            then, assuming <var>O</var> is the object on which
            the method was invoked, the behavior of the overridden
            <code>toString</code> method <span class='rfc2119'>MUST</span>
            be as follows:
          </p>
          <ol class='algorithm'>
            <li>
              Let <var>R</var> be the result of invoking the method on <var>O</var> that corresponds to the IDL
              <a class='dfnref' href='#dfn-operation'>operation</a>
              <var>O</var>, passing no arguments.
            </li>
            <li>Return <var>R</var>.</li>
          </ol>
          <p>
            Otherwise, if the <code>stringifier</code> keyword
            was used on an <a class='dfnref' href='#dfn-operation'>operation</a>
            without an <a class='dfnref' href='#dfn-identifier'>identifier</a>, then
            the behavior of the overridden <code>toString()</code>
            method is the <a class='dfnref' href='#dfn-stringification-behavior'>stringification behavior</a>
            of the IDL interface, as described in the prose for the IDL interface.
          </p>
        </div>

        <div id='java-user-objects' class='section'>
          <h3>User objects implementing interfaces</h3>

          <p>
            A Java <a class='dfnref' href='#dfn-user-object'>user object</a> that implements an IDL <a class='dfnref' href='#dfn-interface'>interface</a>
            <span class='rfc2119'>MUST</span> be of a Java class that implements the Java interface
            that corresponds to the IDL interface, either by implementing the interface directly
            on that class or by inheriting from another class that implements the interface.
          </p>
          <div class='note'>
            <p>For example, with the following IDL:</p>
            <x:codeblock language='idl'>[Callback]
interface Base {
  void f();
};

[Callback]
interface Derived : Base {
  void g();
};</x:codeblock>
            <p>the Java implementation would provide the following interfaces:</p>
            <x:codeblock language='java'>public interface Base {
  void f();
}

public interface Derived extends Base {
  void g();
}</x:codeblock>
            <p>and <a class='dfnref' href='#dfn-user-object'>user objects</a> implementing <span class='idltype'>Derived</span>
              could be defined like the following:</p>
            <x:codeblock language='java'><span class='comment'>// Directly implementing the interface</span>
class DerivedImpl1 implements Derived {
  public void f() { ... }
  public void g() { ... }
}

<span class='comment'>// Inheriting from a class that implements the interface</span>
class DerivedImpl2 extends DerivedImpl1 { }</x:codeblock>
          </div>
        </div>

        <div id='java-exceptions' class='section'>
          <h3>Exceptions</h3>
          <p>
            For every IDL <a class='dfnref' href='#dfn-exception'>exception</a>, there
            <span class='rfc2119'>MUST</span> exist a corresponding Java class
            whose name is the <a class='dfnref' href='#dfn-java-escaped'>Java escaped</a>
            <a class='dfnref' href='#dfn-identifier'>identifier</a> of the IDL exception.
          </p>
          <p>
            The Java class <span class='rfc2119'>MUST</span> have only the <code>public</code> modifier.
            If the IDL exception <a class='dfnref' href='#dfn-inherit-exception'>inherits</a> from another
            exception, then the Java class <span class='rfc2119'>MUST</span> be declared to extend
            the Java class corresponding to that inherited exception.  Otherwise, the Java class <span class='rfc2119'>MUST</span>
            be declared to extend <span class='javatype'>org.w3c.dom.Exception</span>.
          </p>
          <p>
            The class <span class='rfc2119'>MUST</span> also have constructors and methods with definitions as follows,
            where <var>ExceptionName</var> is the name of the class:
          </p>
          <x:codeblock language='java'>public <var>ExceptionName</var>() {
}

public <var>ExceptionName</var>(String message) {
    super(message);
}

public <var>ExceptionName</var>(String message, Throwable cause) {
    super(message, cause);
}

public <var>ExceptionName</var>(Throwable cause) {
    super(cause);
}</x:codeblock>
          <p>
            The class <span class='javatype'>org.w3c.dom.Exception</span> is defined as follows:
          </p>
          <x:codeblock language='java'>public class org.w3c.dom.Exception extends RuntimeException {

    public Exception(String message) {
        super(message);
    }

    public Exception(String message, Throwable cause) {
        super(message, cause);
    }

    public Exception(Throwable cause) {
        super(cause);
    }

    public void setType(String type) {
        this.type = type;
    }

    public String getType() {
        return type;
    }

    private String type;
}</x:codeblock>
          <div id='java-exception-constants' class='section'>
            <h4>Constants</h4>
            <p>
              For each <a class='dfnref' href='#dfn-constant'>constant</a> defined on the
              exception, there
              <span class='rfc2119'>MUST</span> be a corresponding constant declared on the Java class
              with the following characteristics:
            </p>
            <ul>
              <li>The constant has no modifiers.</li>
              <li>
                The type of the constant is the Java type that corresponds to the type of
                the IDL constant, according to the rules in <a href='#java-type-mapping'>section <?sref java-type-mapping?></a>
                <?sdir java-type-mapping?>.
              </li>
              <li>
                The name of the constant is the <a class='dfnref' href='#dfn-java-escaped'>Java escaped</a>
                <a class='dfnref' href='#dfn-identifier'>identifier</a> of the constant.
              </li>
              <li>
                The value of the constant is the result of <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
                the constant’s IDL value to a Java value, according to the rules
                in <a href='#java-type-mapping'>section <?sref java-type-mapping?></a>
                <?sdir java-type-mapping?>.
              </li>
            </ul>
          </div>

          <div id='java-exception-fields' class='section'>
            <h4>Exception fields</h4>
            <p>
              For each <a class='dfnref' href='#dfn-exception-field'>exception field</a> defined on the
              <a class='dfnref' href='#dfn-exception'>exception</a>, there
              <span class='rfc2119'>MUST</span> be a corresponding instance variable declared on the Java class
              with the following characteristics:
            </p>
            <ul>
              <li>The instance variable has only the modifier <code>public</code>.</li>
              <li>
                The type of the instance variable is the Java type that corresponds to the type of
                the IDL exception field, according to the rules in <a href='#java-type-mapping'>section <?sref java-type-mapping?></a>
                <?sdir java-type-mapping?>.
              </li>
              <li>
                The name of the instance variable is the <a class='dfnref' href='#dfn-java-escaped'>Java escaped</a>
                <a class='dfnref' href='#dfn-identifier'>identifier</a> of the exception field.
              </li>
              <li>
                The instance variable is not declared with an initializer.
              </li>
            </ul>
          </div>
        </div>

        <div id='java-exception-throwing' class='section'>
          <h4>Throwing exceptions</h4>
          <p>
            When an IDL <a class='dfnref' href='#dfn-exception'>exception</a> or
            <a class='dfnref' href='#dfn-predefined-exception'>predefined exception</a>
            <var>E</var> is to be <a class='dfnref' href='#dfn-throw'>thrown</a>,
            with an optional message <var>M</var> and exception type <var>T</var>, the following steps
            <span class='rfc2119'>MUST</span> be followed:
          </p>
          <ol class='algorithm'>
            <li>Let <var>C</var> be the corresponding Java class for <var>E</var> if
              <var>E</var> is an IDL <a class='dfnref' href='#dfn-exception'>exception</a>,
              or <span class='javatype'>org.w3c.dom.Exception</span> otherwise.</li>
            <li>Let <var>message</var> be the result of
              <a class='dfnref' href='#dfn-convert-idl-to-java-value'>converting</a>
              <var>M</var> to a <span class='javatype'>java.lang.String</span> object
              if one was specified, or <span class='javavalue'>null</span> otherwise.</li>
            <li>Let <var>O</var> be the result of constructing a new object of class <var>C</var>,
              passing <var>message</var> as the sole argument to the constructor.</li>
            <li>If an exception type <var>T</var> was specified, then call the
              setType method of <var>O</var> with that type as a <span class='javatype'>java.lang.String</span>
              as the sole argument.</li>
            <li>Throw <var>O</var>.</li>
          </ol>
        </div>
      </div>

      <div id='extensibility' class='section'>
        <h2>Extensibility</h2>

        <p class='norm'>This section is informative.</p>

        <p>
          Extensions to the Java language binding requirements can be specified
          using <a class='dfnref' href='#dfn-extended-attribute'>extended attributes</a>
          that do not conflict with those defined in this document.  Extensions for
          private, project-specific use should not be included in
          <a class='dfnref' href='#dfn-idl-fragment'>IDL fragments</a>
          appearing in other specifications.  It is recommended that extensions
          that are required for use in other specifications be coordinated
          with the group responsible for work on <cite>Web IDL</cite>, which
          at the time of writing is the
          <a href='http://www.w3.org/2008/webapps/'>W3C Web Applications Working Group</a>,
          for possible inclusion in a future version of this document.
        </p>
        <p>
          Extensions to any other aspect of the IDL language are
          strongly discouraged.
        </p>
      </div>

      <div id='referencing' class='section'>
        <h2>Referencing this specification</h2>

        <p class='norm'>This section is informative.</p>

        <p>
          It is suggested that specifications defining interfaces with Web IDL for which Java
          language bindings are required to exist include a sentence such as the following,
          to indicate that the IDL is to be interpreted as described in this
          specification:
        </p>
        <blockquote>
          <p>
            The IDL fragment in Appendix A of this specification must be interpreted
            as required for <em>conforming IDL fragments</em>, as described in the
            “Web IDL” specification. <a class='placeholder'>[WEBIDL]</a>
          </p>
        </blockquote>
        <p>
          In addition, it is suggested that the conformance class for user
          agents in referencing specifications be linked to the
          <a class='dfnref' href='#dfn-conforming-java-implementation'>conforming
            Java implementation</a> class from this specification:
        </p>
        <blockquote>
          <p>
            A conforming FooML user agent must also be a
            <em>conforming Java implementation</em> of the IDL fragment in Appendix A
            of this specification, as described in the
            “Java language binding for Web IDL” specification. <a class='placeholder'>[WEBIDL-JAVA]</a>
          </p>
        </blockquote>
      </div>

      <div id='acknowledgements' class='section'>
        <h2>Acknowledgements</h2>

        <p class='norm'>This section is informative.</p>

        <p>
          The editor would like to thank contributors to the Web IDL specification,
          from which this Java language binding was split out in December 2011.
        </p>
      </div>
    </div>

    <div id='appendices'>
      <div id='references' class='section'>
        <h2>References</h2>

        <div id='normative-references' class='section'>
          <h3>Normative references</h3>

          <dl>
            <dt id='ref-JLS3'>[JLS3]</dt>
            <dd>
              <cite><a href="http://java.sun.com/docs/books/jls/">The Java Language Specification, Third Edition</a></cite>.
              J. Gosling, et al.  Upper Saddle River, New Jersey, Addison-Wesley, 2005.
              Available at http://java.sun.com/docs/books/jls/.
            </dd>
            <dt id='ref-RFC2119'>[RFC2119]</dt>
            <dd>
              <cite><a href='http://tools.ietf.org/html/rfc2119'>Key words for use in RFCs to Indicate Requirement Levels</a></cite>,
              S. Bradner.  IETF, March 1997.  Available at http://tools.ietf.org/html/rfc2119.
            </dd>
            <dt id='ref-WEBIDL'>[WEBIDL]</dt>
            <dd>
              <cite><a href='http://www.w3.org/TR/2011/WD-WebIDL-20110927/'>Web IDL</a></cite>.
              C. McCormack, Editor. World Wide Web Consortium, work in progress, 27 September 2011.
              Available at http://www.w3.org/TR/2011/WD-WebIDL-20110927/.
            </dd>
          </dl>
        </div>

        <!--
        <div id='informative-references' class='section'>
          <h3>Informative references</h3>

          <dl>
            <dt id='ref-OMGIDL'>[OMGIDL]</dt>
            <dd>
              <cite><a href='http://www.omg.org/cgi-bin/doc?formal/08-01-04.pdf'>CORBA 3.1 – OMG IDL Syntax and Semantics chapter</a></cite>.
              Object Management Group, January 2008.  Available at http://www.omg.org/cgi-bin/doc?formal/08-01-04.pdf.
            </dd>
          </dl>
        </div>
        -->
      </div>

      <div id='changes' class='section'>
        <h2>Changes</h2>
        <p>
          The following is a list of substantial changes to the document on each publication.
        </p>
        <dl class='changes'>
          <dt>Current editor’s draft</dt>
          <dd>
            <ul>
              <li>
                <p>
                  Added support for IDL enumerations.
                </p>
              </li>
            </ul>
          </dd>
          <dt>12 December 2011 – ED</dt>
          <dd>
            <ul>
              <li>
                <p>
                  Initial document creation.  For changes prior to 12 December 2011, please see the
                  <a href='http://dev.w3.org/2006/webapi/WebIDL/#changes'>Web IDL Changes appendix</a>.
                </p>
              </li>
            </ul>
          </dd>
        </dl>
      </div>
    </div>
  </body>
</html>
